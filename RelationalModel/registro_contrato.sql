CREATE TABLE registro_contrato(
    nro_contrato INTEGER, 
    cod_producto INTEGER NOT NULL, 
    cod_cliente INTEGER NOT NULL, 
    fecha_inicio DATE NOT NULL,
    fecha_fin DATE NOT NULL,
    monto DOUBLE PRECISION NOT NULL,
    estado_contrato VARCHAR(25) NOT NULL CHECK(estado_contrato IN ('ACTIVO','VENCIDO','SUSPENDIDO')),
    CONSTRAINT producto_fk FOREIGN KEY(cod_producto) REFERENCES producto(cod_producto),
    CONSTRAINT contrato_fk FOREIGN KEY(nro_contrato) REFERENCES contrato(nro_contrato),
    CONSTRAINT cliente_fk FOREIGN KEY(cod_cliente) REFERENCES cliente(cod_cliente),
    CONSTRAINT registro_contrato_pk PRIMARY KEY(nro_contrato,cod_producto,cod_cliente)
);


----------------INSERTs for registro_contrato-----------------------------
INSERT INTO registro_contrato(nro_contrato,cod_producto,cod_cliente, fecha_inicio, fecha_fin, monto,estado_contrato)
VALUES(1,1,1,'2024-05-06','2025-05-06',5000,'ACTIVO'),
      (2,1,2,'2023-12-25','2024-12-25',5000,'VENCIDO'),
      (3,1,3,'2024-05-14','2025-05-14',4500,'ACTIVO'),
      (4,2,4,'2022-03-06','2023-03-06',2000,'VENCIDO'),
      (5,2,5,'2023-12-25','2024-12-25',2000,'VENCIDO'),
      (6,2,6,'2024-05-07','2025-05-07',2500,'ACTIVO'),
      (7,3,7,'2024-01-01','2025-01-01',6000,'SUSPENDIDO'),
      (8,3,8,'2020-02-01','2021-02-01',6200,'VENCIDO'),
      (9,3,9,'2021-02-18','2022-02-18',6500,'VENCIDO'),
      (10,4,10,'2024-04-21','2025-04-21',1500,'ACTIVO'),
      (11,4,11,'2023-12-20','2024-12-20',2500,'ACTIVO'),
      (12,4,12,'2020-11-21','2021-11-21',3500,'VENCIDO'),
      (13,5,13,'2020-10-15','2021-10-15',8000,'VENCIDO'),
      (14,5,14,'2024-01-05','2025-01-05',7500,'ACTIVO'),
      (15,5,15,'2024-03-21','2025-03-21',8500,'SUSPENDIDO'),
      (16,6,16,'2021-04-01','2022-04-01',13500,'VENCIDO'),
      (17,6,17,'2022-07-24','2023-07-24',12000,'VENCIDO'),
      (18,6,18,'2024-01-25','2025-01-25',13000,'ACTIVO'),
      (19,7,19,'2023-11-08','2024-11-08',5000,'ACTIVO'),
      (20,7,20,'2022-12-01','2023-12-01',5000,'VENCIDO'),
      (21,7,21,'2024-02-01','2025-02-01',5100,'ACTIVO'),
      (22,8,22,'2021-07-07','2022-07-07',8000,'VENCIDO'),
      (23,8,23,'2023-01-03','2024-01-03',9000,'VENCIDO'),
      (24,8,24,'2024-03-17','2025-03-17',12000,'SUSPENDIDO'),
      (25,9,25,'2023-11-13','2024-11-13',7500,'SUSPENDIDO'),
      (26,9,26,'2022-10-10','2023-10-10',3200,'VENCIDO'),
      (27,9,27,'2023-09-08','2024-09-08',8900,'ACTIVO'),
      (28,10,28,'2024-05-11','2025-05-12',10000,'ACTIVO'),
      (29,10,29,'2020-02-10','2021-02-10',2500,'VENCIDO'),
      (30,10,30,'2023-09-08','2024-09-08',3750,'ACTIVO'),
      (31,11,1,'2022-03-10','2023-03-10',4500,'VENCIDO'),
      (32,11,15,'2020-07-15','2021-07-14',5050,'VENCIDO'),
      (33,11,30,'2024-03-03','2025-03-03',2500,'VENCIDO'),
      (34,11,15,'2020-07-18','2021-07-18',5050,'SUSPENDIDO'),
      (35,1,30,'2020-06-07','2021-06-07',5550,'VENCIDO'),
      (36,1,29,'2021-12-23','2022-12-23',5030,'SUSPENDIDO'),
      (37,1,28,'2021-06-13','2022-06-13',4580,'SUSPENDIDO'),
      (38,1,27,'2020-05-06','2021-05-06',5120,'VENCIDO'),
      (39,1,26,'2020-11-20','2021-11-20',5450,'VENCIDO'),
      (40,2,25,'2021-07-10','2022-07-10',4555,'SUSPENDIDO'),
      (41,2,24,'2020-06-07','2021-06-07',5580,'VENCIDO'),
      (42,2,23,'2021-08-19','2022-08-19',5070,'SUSPENDIDO'),
      (43,2,22,'2021-01-10','2022-01-10',4680,'SUSPENDIDO'),
      (44,2,21,'2020-10-04','2021-10-04',5520,'VENCIDO'),
      (45,3,20,'2021-02-11','2022-02-11',4255,'SUSPENDIDO'),
      (46,3,19,'2020-05-05','2021-05-05',5540,'VENCIDO'),
      (47,3,18,'2021-03-29','2022-03-29',5230,'SUSPENDIDO'),
      (48,3,17,'2021-02-11','2022-02-11',4120,'SUSPENDIDO'),
      (49,3,16,'2020-12-02','2021-12-02',5540,'VENCIDO'),
      (50,4,15,'2021-03-12','2022-03-12',4243,'SUSPENDIDO'),
      (51,4,14,'2020-05-07','2021-05-07',5512,'VENCIDO'),
      (52,4,13,'2021-04-22','2022-04-22',5211,'SUSPENDIDO'),
      (53,4,12,'2021-05-12','2022-05-12',4145,'SUSPENDIDO'),
      (54,4,11,'2020-11-08','2021-11-08',5230,'VENCIDO'),
      (55,5,10,'2021-03-10','2022-03-10',4545,'SUSPENDIDO'),
      (56,5,9,'2020-05-05','2021-05-05',5230,'VENCIDO'),
      (57,5,8,'2021-03-29','2022-03-29',5250,'SUSPENDIDO'),
      (58,5,7,'2021-03-11','2022-03-11',4123,'SUSPENDIDO'),
      (59,5,6,'2020-12-02','2021-12-02',5521,'VENCIDO'),
      (60,6,5,'2021-10-11','2022-10-11',4315,'SUSPENDIDO'),
      (61,6,4,'2020-03-07','2021-03-07',5520,'VENCIDO'),
      (62,6,3,'2021-01-12','2022-01-12',5110,'SUSPENDIDO'),
      (63,6,2,'2021-09-08','2022-09-08',4543,'SUSPENDIDO'),
      (64,6,1,'2020-07-03','2021-07-03',5111,'VENCIDO'),
      (65,6,1,'2021-12-18','2022-12-18',5545,'SUSPENDIDO'),
      (66,7,2,'2020-03-19','2021-03-19',4230,'VENCIDO'),
      (67,7,2,'2020-03-19','2021-03-19',4230,'VENCIDO'),
      (68,7,3,'2021-04-25','2022-04-25',6250,'SUSPENDIDO'),
      (69,7,4,'2021-04-14','2022-04-14',5123,'SUSPENDIDO'),
      (70,7,5,'2020-12-02','2021-12-02',5000,'VENCIDO'),
      (71,8,6,'2021-05-11','2022-05-11',4000,'SUSPENDIDO'),
      (72,8,7,'2020-06-10','2021-06-10',5300,'VENCIDO'),
      (73,8,8,'2021-07-14','2022-07-14',5289,'SUSPENDIDO'),
      (74,8,9,'2021-04-12','2022-04-12',4000,'SUSPENDIDO'),
      (75,8,10,'2020-01-03','2021-01-03',5123,'VENCIDO'),
      (76,9,11,'2021-04-11','2022-04-11',5545,'SUSPENDIDO'),
      (77,9,12,'2020-06-07','2021-06-07',6000,'VENCIDO'),
      (78,9,13,'2021-05-28','2022-05-28',6250,'SUSPENDIDO'),
      (79,9,14,'2021-04-13','2022-04-13',4130,'SUSPENDIDO'),
      (80,9,15,'2020-11-05','2021-11-05',5550,'VENCIDO'),
      (81,10,16,'2021-04-14','2022-04-14',4500,'SUSPENDIDO'),
      (82,10,17,'2020-03-08','2021-03-08',5200,'VENCIDO'),
      (83,10,18,'2021-01-20','2022-01-20',5200,'SUSPENDIDO'),
      (84,10,19,'2021-02-07','2022-02-07',4000,'SUSPENDIDO'),
      (85,10,20,'2020-12-12','2021-12-12',5100,'VENCIDO'),
      (86,11,21,'2021-04-08','2022-04-08',4545,'SUSPENDIDO'),
      (87,11,22,'2020-02-07','2021-02-07',5330,'VENCIDO'),
      (88,11,23,'2021-05-28','2022-05-28',5399,'SUSPENDIDO'),
      (89,11,24,'2021-03-11','2022-03-11',4150,'SUSPENDIDO'),
      (90,11,25,'2020-11-11','2021-11-11',5510,'VENCIDO'),
      (91,2,32,'2018-07-11','2020-07-11',7200,'SUSPENDIDO'),
      (92,3,33,'2018-11-05','2019-11-05',1950,'VENCIDO'),
      (93,1,34,'2019-02-20','2020-02-20',4800,'VENCIDO'),
      (94,2,35,'2019-06-04','2020-06-04',6100,'VENCIDO'),
      (95,3,36,'2019-10-09','2020-10-09',2550,'SUSPENDIDO'),
      (96,1,37,'2020-01-23','2021-01-23',8900,'VENCIDO'),
      (97,2,38,'2020-05-07','2021-05-07',5300,'VENCIDO'),
      (98,3,39,'2020-09-11','2021-09-11',3200,'VENCIDO'),
      (99,1,40,'2018-04-17','2019-04-17',6400,'VENCIDO'),
      (100,2,41,'2018-08-10','2019-08-10',9300,'VENCIDO'),
      (101,3,42,'2018-12-04','2019-12-04',4650,'SUSPENDIDO'),
      (102,1,43,'2019-03-19','2020-03-19',7100,'VENCIDO'),
      (103,2,44,'2019-07-13','2020-07-13',2900,'VENCIDO'),
      (104,3,45,'2019-11-07','2020-11-07',8700,'VENCIDO'),
      (105,1,46,'2020-02-21','2021-02-21',1200,'VENCIDO'),
      (106,2,47,'2020-06-05','2021-06-05',4500,'VENCIDO'),
      (107,3,48,'2020-10-10','2021-10-10',6200,'SUSPENDIDO'),
      (108,1,49,'2018-05-15','2019-05-15',5800,'VENCIDO'),
      (109,2,50,'2018-09-09','2019-09-09',8100,'VENCIDO'),
      (120,3,51,'2019-01-08','2020-01-08',3400,'VENCIDO'),
      (121,1,52,'2019-04-18','2020-04-18',9000,'VENCIDO'),
      (122,2,53,'2019-08-12','2020-08-12',1500,'VENCIDO'),
      (123,3,54,'2019-12-06','2020-12-06',7400,'SUSPENDIDO'),
      (124,11,55, '2018-05-06', '2019-05-06', 5000,'VENCIDO'),
      (125,10,49, '2018-07-12', '2019-07-12', 6000,'VENCIDO'),
      (126,9,40, '2018-10-18', '2019-10-18', 4500,'VENCIDO'),
      (127,8,41, '2019-02-24', '2020-02-24', 5500,'VENCIDO'),
      (128,7,32, '2019-06-30', '2020-06-30', 4000,'SUSPENDIDO'),
      (129,6,33, '2019-09-05', '2020-09-05', 4800,'VENCIDO'),
      (130,5,34, '2020-01-11', '2021-01-11', 5200,'SUSPENDIDO'),
      (131,4,45, '2020-04-17', '2021-04-17', 5900,'VENCIDO'),
      (132,3,46, '2020-07-23', '2021-07-23', 4300,'SUSPENDIDO'),
      (133,2,47, '2020-10-29', '2021-10-29', 5100,'SUSPENDIDO'),
      (134,1,48, '2018-02-04', '2019-02-04', 4700,'VENCIDO'),
      (135,11,39, '2018-05-12', '2019-05-12', 5400,'VENCIDO'),
      (136,10,30, '2018-05-06', '2019-05-06', 5000,'SUSPENDIDO'),
      (137,9,31, '2018-07-12', '2019-07-12', 6000,'VENCIDO'),
      (138,8,32, '2018-10-18', '2019-10-18', 4500,'SUSPENDIDO'),
      (139,7,33, '2019-02-24', '2020-02-24', 5500,'VENCIDO'),
      (140,6,34, '2019-06-30', '2020-06-30', 4000,'SUSPENDIDO'),
      (141,4,35, '2019-09-05', '2020-09-05', 4800,'VENCIDO'),
      (142,4,36, '2020-01-11', '2021-01-11', 5200,'SUSPENDIDO'),
      (143,8,37, '2020-04-17', '2021-04-17', 5900,'VENCIDO'),
      (144,9,38, '2020-07-23', '2021-07-23', 4300,'SUSPENDIDO'),
      (145,1,39, '2020-10-29', '2021-10-29', 5100,'VENCIDO'),
      (146,1,40, '2021-02-04', '2022-02-04', 4700,'SUSPENDIDO'),
      (147,5,41, '2021-05-12', '2022-05-12', 5400,'VENCIDO'),
      (148,5,42, '2018-05-06', '2019-05-06', 5000,'SUSPENDIDO'),
      (149,4,43, '2018-07-12', '2019-07-12', 6000,'VENCIDO'),
      (150,9,44, '2018-10-18', '2019-10-18', 4500,'SUSPENDIDO');
      


--INSERT INTO registro_contrato(nro_contrato,cod_producto,cod_cliente, fecha_inicio, fecha_fin, monto,estado_contrato)
--VALUES(1,1,1,'2024-05-06','2025-05-06',5000,'ACTIVO'),
--      (2,1,2,'2023-12-25','2024-12-25',5000,'VENCIDO'),
--      (3,1,3,'2024-05-14','2025-05-14',4500,'ACTIVO'),
--      (4,2,4,'2022-03-06','2023-03-06',2000,'VENCIDO'),
--      (5,2,5,'2023-12-25','2024-12-25',2000,'VENCIDO'),
--      (6,2,6,'2024-05-07','2025-05-07',2500,'ACTIVO'),
--      (7,3,7,'2024-01-01','2025-01-01',6000,'SUSPENDIDO'),
--      (8,3,8,'2020-02-01','2021-02-01',6200,'VENCIDO'),
--      (9,3,9,'2021-02-18','2022-02-18',6500,'VENCIDO'),
--      (10,4,10,'2024-04-21','2025-04-21',1500,'ACTIVO'),
--      (11,4,11,'2023-12-20','2024-12-20',2500,'ACTIVO'),
--      (12,4,12,'2020-11-21','2021-11-21',3500,'VENCIDO'),
--      (13,5,13,'2020-10-15','2021-10-15',8000,'VENCIDO'),
--      (14,5,14,'2024-01-05','2025-01-05',7500,'ACTIVO'),
--      (15,5,15,'2024-03-21','2025-03-21',8500,'SUSPENDIDO'),
--      (16,6,16,'2021-04-01','2022-04-01',13500,'VENCIDO'),
--      (17,6,17,'2022-07-24','2023-07-24',12000,'VENCIDO'),
--      (18,6,18,'2024-01-25','2025-01-25',13000,'ACTIVO'),
--      (19,7,19,'2023-11-08','2024-11-08',5000,'ACTIVO'),
--      (20,7,20,'2022-12-01','2023-12-01',5000,'VENCIDO'),
--      (21,7,21,'2024-02-01','2025-02-01',5100,'ACTIVO'),
--      (22,8,22,'2021-07-07','2022-07-07',8000,'VENCIDO'),
--      (23,8,23,'2023-01-03','2024-01-03',9000,'VENCIDO'),
--      (24,8,24,'2024-03-17','2025-03-17',12000,'SUSPENDIDO'),
--      (25,9,25,'2023-11-13','2024-11-13',7500,'SUSPENDIDO'),
--      (26,9,26,'2022-10-10','2023-10-10',3200,'VENCIDO'),
--      (27,9,27,'2023-09-08','2024-09-08',8900,'ACTIVO'),
--      (28,10,28,'2024-05-11','2025-05-12',10000,'ACTIVO'),
--      (29,10,29,'2020-02-10','2021-02-10',2500,'VENCIDO'),
--      (30,10,30,'2023-09-08','2024-09-08',3750,'ACTIVO'),
--      (31,11,1,'2022-03-10','2023-03-10',4500,'VENCIDO'),
--      (32,11,15,'2020-07-15','2021-07-14',5050,'VENCIDO'),
--      (33,11,30,'2024-03-03','2025-03-03',2500,'VENCIDO'),
--      (34,11,15,'2020-07-18','2021-07-18',5050,'SUSPENDIDO');
--